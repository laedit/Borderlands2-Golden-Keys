@model  Borderlands2GoldendKeys.Models.HomeViewModel

<div class="well">
    <h1 class="defused">Borderlands 2: Golden Keys <small class="secret red">[unofficial]</small></h1>
    <div>
        This site has one and only purpose: list <a href="http://gearboxsoftware.com/" title="Official Gearbox site">gearbox</a>'s <a href="http://www.borderlands2.com" title="Official Borderlands 2 site">borderlands 2</a>'s golden keys from <a href="https://twitter.com/GearboxSoftware" title="Gearbox Software's Twitter">Twitter</a>.
    </div>
</div>

<div class="row">
    <div class="col-md-12 text-center">
        <blockquote>
            @Model.ClapTrapQuote.Quote
            <footer>
                ClapTrap
            </footer>
        </blockquote>
    </div>
</div>
@if (Model.ShiftCodes.Count > 0)
{
    <div class="row">
        <div class="col-md-12">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th><h4>Platform</h4></th>
                        <th><h4>SHiFT Code</h4></th>
                        <th><h4>Valid</h4></th>
                        <th><h4>Source</h4></th>
                    </tr>
                </thead>
                <tbody id="shiftCodes">
                    @Html.Partial("_ShiftCodeRowPartial", Model.ShiftCodes)
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div id="showAllError" class="displaynone alert alert-danger"><strong>AHHHHHHHHHHHHHHHHH! Dang.</strong> My bad.</div>
        </div>
    </div>
    <div class="row text-center">
        <div class="col-md-2 col-md-offset-5">
            @using (Ajax.BeginForm("GetRemainingShiftCodes", new AjaxOptions
        {
            InsertionMode = InsertionMode.InsertAfter,
            LoadingElementId = "ajaxLoader",
            UpdateTargetId = "shiftCodes",
            OnBegin = "ShowAllBegin",
            OnFailure = "ShowAllFailure",
            OnSuccess = "ShowAllSuccess"
        }))
            {
                <input id="showAllButton" type="submit" value="Show all" class="btn btn-default btn-sm" />
            }
        </div>
    </div>
    <div class="row">
        <div class="col-md-2 col-md-offset-5">
            <div id="ajaxLoader" class="displaynone progress progress-striped active">
                <div class="progress-bar" style="width: 100%"></div>
            </div>
        </div>
    </div>
}
else
{
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="alert">No SHiFT codes. For the moment...</div>
        </div>
    </div>
}
<hr />

<div class="well">
    <div class="row text-center">
        <div class="col-md-4">
            This site is not affiliated to <a href="http://gearboxsoftware.com/" title="Official Gearbox site">Gearbox Software</a>
        </div>
        <div class="col-md-4">
            Borderlands 2 is property of <a href="http://gearboxsoftware.com/" title="Official Gearbox site">Gearbox Software</a>
        </div>
        <div class="col-md-4">
            <a href="https://twitter.com/GearboxSoftware" class="twitter-follow-button" data-show-count="false" data-dnt="true">Follow @@GearboxSoftware</a>
        </div>
    </div>
</div>

@section scripts
{
    @Scripts.Render("~/bundles/jqueryunobt")
    @Scripts.Render("~/bundles/site")
    <script type="text/javascript">
        DocumentReadyInitializeTooltip();
    </script>
}
